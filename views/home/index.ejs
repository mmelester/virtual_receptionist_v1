<!--
    Landing Page Template for My Virtual Receptionist

    This EJS view template renders the main landing page of the Virtual Receptionist application.
    
    Key Features:
    - Includes common header and footer partials for a consistent look across the site.
    - Retrieves and displays flash messages for both errors and success:
        • Flash error messages (if any) are displayed inside a red alert box.
        • Flash success messages (if any) are displayed inside a green alert box.
    - Displays a welcome message in the "page-intro-section" to greet the user.
    - Checks if the user is logged in (via the 'isLoggedIn' variable):
        • If not logged in, a prompt instructs the user to log in to access the dashboard.
    
    This template utilizes EJS syntax to conditionally render content and loop through flash message arrays.
-->
<%- include('../includes/header') %>

<div class="page">
    <% let flashErrors = flash('errors'); %>  <!-- Store it once -->

    <% if (flashErrors.length) { %>
        <div class="alert alert-danger">
            <% flashErrors.forEach(function(error) { %>
                <p><%= error %></p>
            <% }); %>
        </div>
    <% } %>

    <% let flashSuccess = flash('success'); %>  <!-- Store success flash messages -->
    <% if (flashSuccess.length) { %>
        <div class="alert alert-success">
            <% flashSuccess.forEach(function(message) { %>
                <p><%= message %></p>
            <% }); %>
        </div>
    <% } %>

    <section class="page-intro-section">
        <h1>Welcome to My Virtual Receptionist</h1>
    </section>

    <% if (!isLoggedIn) { %>
        <p>Please log in to access your dashboard.</p>
    <% } %>
</div>

<%- include('../includes/footer') %>
